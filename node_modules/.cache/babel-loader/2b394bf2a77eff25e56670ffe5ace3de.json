{"ast":null,"code":"var _jsxFileName = \"/home/brad/Documents/Coding Temple/week_8/day_1/drone_inventory/src/components/DroneForm/DroneForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { chooseName, choosePrice, chooseCam, chooseDescription, chooseFlight, chooseSpeed, chooseCost, chooseWeight, chooseSeries } from '../../redux/slices/rootSlice';\nimport { serverCalls } from '../../api';\nimport { useGetData } from '../../custom-hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DroneForm = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  let {\n    droneData,\n    getData\n  } = useGetData();\n  const store = useStore(); // How to select your State as a variable\n\n  const name = useSelector(state => state.name);\n  const price = useSelector(state => state.price);\n  const {\n    register,\n    handleSubmit\n  } = useForm({});\n\n  const onSubmit = async (data, event) => {\n    console.log(props.id);\n\n    if (props.id) {\n      await serverCalls.update(props.id, data);\n      console.log(`Updated: ${data.name} \\n ID: ${props.id}`);\n      window.location.reload();\n      event.target.reset();\n    } else {\n      dispatch(chooseName(data.name));\n      dispatch(choosePrice(data.price));\n      dispatch(chooseCam(data.camera_quality));\n      dispatch(chooseDescription(data.description));\n      dispatch(chooseCost(data.cost_of_production));\n      dispatch(chooseWeight(data.weight));\n      dispatch(chooseSeries(data.series));\n      dispatch(chooseSpeed(data.max_speed));\n      dispatch(chooseFlight(data.flight_time));\n      serverCalls.create(store.getState());\n      window.location.reload();\n      event.target.reset();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DroneForm, \"+/k1AiMLgPrw5KCViZqz3GBpYcg=\", false, function () {\n  return [useDispatch, useGetData, useStore, useSelector, useSelector, useForm];\n});\n\n_c = DroneForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"DroneForm\");","map":{"version":3,"names":["React","useDispatch","useSelector","useStore","useForm","chooseName","choosePrice","chooseCam","chooseDescription","chooseFlight","chooseSpeed","chooseCost","chooseWeight","chooseSeries","serverCalls","useGetData","DroneForm","props","dispatch","droneData","getData","store","name","state","price","register","handleSubmit","onSubmit","data","event","console","log","id","update","window","location","reload","target","reset","camera_quality","description","cost_of_production","weight","series","max_speed","flight_time","create","getState"],"sources":["/home/brad/Documents/Coding Temple/week_8/day_1/drone_inventory/src/components/DroneForm/DroneForm.tsx"],"sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux'\nimport {useForm} from 'react-hook-form'\nimport { Button } from '@mui/material'\nimport { chooseName, choosePrice, chooseCam, chooseDescription, chooseFlight, chooseSpeed, chooseCost, chooseWeight, chooseSeries } from '../../redux/slices/rootSlice'\nimport { Input } from '../sharedComponents';\nimport { serverCalls } from '../../api'\nimport { useGetData } from '../../custom-hooks'\n\ninterface DroneFormProps{\n    id?:string;\n    data?:{}\n}\n\ninterface DroneState {\n    name:string,\n    price:string;\n    description:string;\n    camera_quality:string;\n    flight_time:string;\n    max_speed:string;\n    cost_of_production:string;\n    weight:string;\n    series:string;\n}\n\nexport const DroneForm = (props:DroneFormProps) => {\n    const dispatch = useDispatch();\n    let {droneData, getData} = useGetData();\n    const store = useStore();\n\n    // How to select your State as a variable\n    const name = useSelector<DroneState>(state => state.name)\n    const price = useSelector<DroneState>(state => state.price)\n\n    const { register, handleSubmit } = useForm({})\n\n    const onSubmit = async (data:any, event:any) => {\n        console.log(props.id)\n\n        if(props.id!) {\n            await serverCalls.update(props.id!, data)\n            console.log(`Updated: ${data.name} \\n ID: ${props.id}`)\n            window.location.reload();\n            event.target.reset();\n        } else {\n            dispatch(chooseName(data.name))\n            dispatch(choosePrice(data.price))\n            dispatch(chooseCam(data.camera_quality))\n            dispatch(chooseDescription(data.description))\n            dispatch(chooseCost(data.cost_of_production))\n            dispatch(chooseWeight(data.weight))\n            dispatch(chooseSeries(data.series))\n            dispatch(chooseSpeed(data.max_speed))\n            dispatch(chooseFlight(data.flight_time))\n\n            serverCalls.create(store.getState())\n            window.location.reload();\n            event.target.reset();\n        }\n    }\n    return(\n        <div>\n            \n        </div>\n    )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,QAAnC,QAAmD,aAAnD;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AAEA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,SAAlC,EAA6CC,iBAA7C,EAAgEC,YAAhE,EAA8EC,WAA9E,EAA2FC,UAA3F,EAAuGC,YAAvG,EAAqHC,YAArH,QAAyI,8BAAzI;AAEA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,QAA2B,oBAA3B;;AAmBA,OAAO,MAAMC,SAAS,GAAIC,KAAD,IAA0B;EAAA;;EAC/C,MAAMC,QAAQ,GAAGjB,WAAW,EAA5B;EACA,IAAI;IAACkB,SAAD;IAAYC;EAAZ,IAAuBL,UAAU,EAArC;EACA,MAAMM,KAAK,GAAGlB,QAAQ,EAAtB,CAH+C,CAK/C;;EACA,MAAMmB,IAAI,GAAGpB,WAAW,CAAaqB,KAAK,IAAIA,KAAK,CAACD,IAA5B,CAAxB;EACA,MAAME,KAAK,GAAGtB,WAAW,CAAaqB,KAAK,IAAIA,KAAK,CAACC,KAA5B,CAAzB;EAEA,MAAM;IAAEC,QAAF;IAAYC;EAAZ,IAA6BtB,OAAO,CAAC,EAAD,CAA1C;;EAEA,MAAMuB,QAAQ,GAAG,OAAOC,IAAP,EAAiBC,KAAjB,KAA+B;IAC5CC,OAAO,CAACC,GAAR,CAAYd,KAAK,CAACe,EAAlB;;IAEA,IAAGf,KAAK,CAACe,EAAT,EAAc;MACV,MAAMlB,WAAW,CAACmB,MAAZ,CAAmBhB,KAAK,CAACe,EAAzB,EAA8BJ,IAA9B,CAAN;MACAE,OAAO,CAACC,GAAR,CAAa,YAAWH,IAAI,CAACN,IAAK,WAAUL,KAAK,CAACe,EAAG,EAArD;MACAE,MAAM,CAACC,QAAP,CAAgBC,MAAhB;MACAP,KAAK,CAACQ,MAAN,CAAaC,KAAb;IACH,CALD,MAKO;MACHpB,QAAQ,CAACb,UAAU,CAACuB,IAAI,CAACN,IAAN,CAAX,CAAR;MACAJ,QAAQ,CAACZ,WAAW,CAACsB,IAAI,CAACJ,KAAN,CAAZ,CAAR;MACAN,QAAQ,CAACX,SAAS,CAACqB,IAAI,CAACW,cAAN,CAAV,CAAR;MACArB,QAAQ,CAACV,iBAAiB,CAACoB,IAAI,CAACY,WAAN,CAAlB,CAAR;MACAtB,QAAQ,CAACP,UAAU,CAACiB,IAAI,CAACa,kBAAN,CAAX,CAAR;MACAvB,QAAQ,CAACN,YAAY,CAACgB,IAAI,CAACc,MAAN,CAAb,CAAR;MACAxB,QAAQ,CAACL,YAAY,CAACe,IAAI,CAACe,MAAN,CAAb,CAAR;MACAzB,QAAQ,CAACR,WAAW,CAACkB,IAAI,CAACgB,SAAN,CAAZ,CAAR;MACA1B,QAAQ,CAACT,YAAY,CAACmB,IAAI,CAACiB,WAAN,CAAb,CAAR;MAEA/B,WAAW,CAACgC,MAAZ,CAAmBzB,KAAK,CAAC0B,QAAN,EAAnB;MACAb,MAAM,CAACC,QAAP,CAAgBC,MAAhB;MACAP,KAAK,CAACQ,MAAN,CAAaC,KAAb;IACH;EACJ,CAvBD;;EAwBA,oBACI;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAxCM;;GAAMtB,S;UACQf,W,EACUc,U,EACbZ,Q,EAGDD,W,EACCA,W,EAEqBE,O;;;KAT1BY,S"},"metadata":{},"sourceType":"module"}